
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />        
      <meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="reference" /><meta name="DC.Title" content="modem_write()" /><meta name="abstract" content="Write a string to a device" /><meta name="description" content="Write a string to a device" /><meta name="indexterms" content="modem_write()" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-m.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/m/modem_open.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/m/modem_read.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/m/modem_script.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="modem_write" /><meta name="DC.Language" content="en-us" /><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>modem_write()</title><link rel="canonical" type="html" href="https://www.qnx.com/developers/docs/7.1/#com.qnx.doc.neutrino.lib_ref/" /><!--  Generated with Oxygen version 18.1, build number 2017020917.  --><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/skins/skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../../../index.html";
            
            --></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><script type="text/javascript"> var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-27400275-1']); _gaq.push(['_setDomainName', 'www.qnx.com']);_gaq.push(['_setAllowLinker', true]);_gaq.push(['_trackPageview']);(function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="modem_write">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-m.html" title="M">M</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-m.html" title="M"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">M</span></a></span>  </span></td></tr></tbody></table>


<h1 class="title topictitle1"><span class="keyword apiname">modem_write()</span></h1>
<table width="100%"><tbody><tr><td align="left"><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">QNX SDP</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">7.1</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">C Library Reference</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">API</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">Developer</button></td><td align="right"><span style="margin:0px 5px; font-size:0.9em;">Updated: October 28, 2024</span></td></tr></tbody></table>


<div class="body refbody"><p class="shortdesc"><em class="ph i">Write a string to a device</em></p>


<div class="section refsyn"><h2 class="title sectiontitle">Synopsis:</h2>

<pre class="pre codeblock">
#include &lt;sys/modem.h&gt;

int modem_write( int <var class="keyword varname">fd</var>,
                 char* <var class="keyword varname">str</var> );
</pre>

</div>



<div class="section"><h2 class="title sectiontitle">Arguments:</h2>


<dl class="dl">

<dt class="dt dlterm"><var class="keyword varname">fd</var></dt>

<dd class="dd">The file descriptor for the device that you want to write to; see
  <a class="xref" href="modem_open.html" title="Open a serial port"><span class="keyword apiname">modem_open()</span></a>.
</dd>




<dt class="dt dlterm"><var class="keyword varname">str</var></dt>

<dd class="dd">The string that you want to write.</dd>



</dl>


</div>



<div class="section"><h2 class="title sectiontitle">Library:</h2>


<p class="p"><span class="ph filepath">libc</span></p>

<p class="p">Use the <span class="keyword option">-l c</span> option to
<a class="xref" href="../../../com.qnx.doc.neutrino.utilities/topic/q/qcc.html"><span class="keyword cmdname">qcc</span></a>
to link against this library.
This library is usually included automatically.
</p>


</div>



<div class="section"><h2 class="title sectiontitle">Description:</h2>


<p class="p">





The <span class="keyword apiname">modem_write()</span> function writes the string <var class="keyword varname">str</var>
to the device specified by the file descriptor <var class="keyword varname">fd</var>. Just before
writing each character, all buffered input from the same device
is flushed. After writing each character, an attempt to read an echo is
made. The intent is to write a string without its appearing back in the
input stream even if the device is echoing each character written.
</p>


<p class="p">
If the <samp class="ph codeph">\</samp> character appears in <var class="keyword varname">str</var>, then the
character following it is interpreted by <span class="keyword apiname">modem_write()</span>, and
instead of both being written, they're treated as a special escape
sequence that causes the following actions to be taken:






</p>



<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
<thead class="thead" align="left">
<tr>
  <th class="entry" valign="top" id="d2213680e182">Escape </th>

  <th class="entry" valign="top" id="d2213680e185">Description</th>

</tr>

</thead>


<tbody class="tbody">
<tr>
  <td class="entry" valign="top" headers="d2213680e182 d2213680e185 "><samp class="ph codeph">\r</samp></td>

  <td class="entry" valign="top" headers="d2213680e182 d2213680e185 ">Output a carriage return.</td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2213680e182 d2213680e185 "><samp class="ph codeph">\n</samp></td>

  <td class="entry" valign="top" headers="d2213680e182 d2213680e185 ">Output a newline.</td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2213680e182 d2213680e185 "><samp class="ph codeph">\x</samp><var class="keyword varname">hh</var></td>

  <td class="entry" valign="top" headers="d2213680e182 d2213680e185 ">Output the single character whose hex representation follows as <var class="keyword varname">hh</var>.</td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2213680e182 d2213680e185 "><samp class="ph codeph">\B</samp></td>

  <td class="entry" valign="top" headers="d2213680e182 d2213680e185 ">Send a 500 msec break on the line using <span class="keyword apiname">tcsendbreak()</span>.</td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2213680e182 d2213680e185 "><samp class="ph codeph">\D</samp></td>

  <td class="entry" valign="top" headers="d2213680e182 d2213680e185 ">Drop the line for 1 second using <span class="keyword apiname">tcdropline()</span>.</td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2213680e182 d2213680e185 "><samp class="ph codeph">\P</samp><var class="keyword varname">hh</var></td>

  <td class="entry" valign="top" headers="d2213680e182 d2213680e185 ">Pause for <var class="keyword varname">hh</var> 1/10 of a second where <var class="keyword varname">hh</var> is two hex characters.</td>

</tr>


</tbody>

</table>
</div>


</div>



<div class="section"><h2 class="title sectiontitle">Returns:</h2>


<p class="p">
Zero on success, -1 on failure
(<a class="xref" href="../e/errno.html" title="Thread-local error variable"><var class="keyword varname">errno</var></a> is set ).
</p>

</div>



<div class="section"><h2 class="title sectiontitle">Errors:</h2>


<dl class="dl" compact="compact">

<dt class="dt dlterm"><span class="keyword const">EAGAIN</span></dt>

<dd class="dd">The <span class="keyword const">O_NONBLOCK</span> flag is set for the file descriptor, and 
  the process would be delayed in the write operation.
</dd>




<dt class="dt dlterm"><span class="keyword const">EBADF</span></dt>

<dd class="dd">The file descriptor, <var class="keyword varname">filedes</var>, isn't a valid file descriptor open for writing.</dd>




<dt class="dt dlterm"><span class="keyword const">EINTR</span></dt>

<dd class="dd">The write operation was interrupted by a signal, and either no data
  was transferred, or the resource manager responsible for that file doesn't
  report partial transfers.
</dd>




<dt class="dt dlterm"><span class="keyword const">EIO</span></dt>

<dd class="dd">A physical I/O error occurred. The precise meaning depends on the device.</dd>




<dt class="dt dlterm"><span class="keyword const">EPIPE</span></dt>

<dd class="dd">An attempt was made to write to a pipe (or FIFO) that isn't open for reading by any process.
  A <span class="keyword const">SIGPIPE</span> signal is also sent to the process.
  
  
</dd>



</dl>


</div>



<div class="section"><h2 class="title sectiontitle">Classification:</h2>

<p class="p"><a class="xref" href="../summary.html#summary__CLASSIFICATION">QNX Neutrino</a></p>



<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
<thead class="thead" align="left">
<tr><th class="entry" valign="top" id="d2213680e392">Safety:</th>
<th class="entry" valign="top" id="d2213680e394">Â </th>
</tr>

</thead>

<tbody class="tbody">
<tr><td class="entry" valign="top" headers="d2213680e392 d2213680e394 ">Cancellation point</td>
<td class="entry" valign="top" headers="d2213680e392 d2213680e394 ">Yes</td>
</tr>

<tr><td class="entry" valign="top" headers="d2213680e392 d2213680e394 ">Interrupt handler</td>
<td class="entry" valign="top" headers="d2213680e392 d2213680e394 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d2213680e392 d2213680e394 ">Signal handler</td>
<td class="entry" valign="top" headers="d2213680e392 d2213680e394 ">Yes</td>
</tr>

<tr><td class="entry" valign="top" headers="d2213680e392 d2213680e394 ">Thread</td>
<td class="entry" valign="top" headers="d2213680e392 d2213680e394 ">Yes</td>
</tr>

</tbody>

</table>
</div>

</div>


</div>





<div class="related-links"><div class="relinfo relref"><strong>Related reference</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/m/modem_open.html" title="Open a serial port">modem_open()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/m/modem_read.html" title="Read bytes from a file descriptor">modem_read()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/m/modem_script.html" title="Run a script on a device">modem_script()</a></div>
</div>
</div><div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-m.html" title="M"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">M</span></a></span>  </div>
</body>
</html>