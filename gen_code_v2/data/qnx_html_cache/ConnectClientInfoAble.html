
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />        
      <meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="reference" /><meta name="DC.Title" content="ConnectClientInfoAble()" /><meta name="abstract" content="Get extended information about a client connection, including abilities" /><meta name="description" content="Get extended information about a client connection, including abilities" /><meta name="indexterms" content="ConnectClientInfoAble()" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-c.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/c/clientinfoextfree.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/c/connectclientinfoext.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/c/connectserverinfo.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/i/iofunc_ability_check.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/i/iofunc_client_info_able.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/i/iofunc_client_info_ext.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/m/_msg_info.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/m/msginfo.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/m/msgreceivev.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/n/nd_node_cmp.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/n/netmgr_ndtostr.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/n/netmgr_remote_nd.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/n/netmgr_strtond.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/p/procmgr_ability.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/p/procmgr_ability_create.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/p/procmgr_ability_lookup.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/p/procmgr_ability_name.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="connectclientinfoable" /><meta name="DC.Language" content="en-us" /><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>ConnectClientInfoAble()</title><link rel="canonical" type="html" href="https://www.qnx.com/developers/docs/7.1/#com.qnx.doc.neutrino.lib_ref/" /><!--  Generated with Oxygen version 18.1, build number 2017020917.  --><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/skins/skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../../../index.html";
            
            --></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><script type="text/javascript"> var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-27400275-1']); _gaq.push(['_setDomainName', 'www.qnx.com']);_gaq.push(['_setAllowLinker', true]);_gaq.push(['_trackPageview']);(function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="connectclientinfoable">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-c.html" title="C">C</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-c.html" title="C"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">C</span></a></span>  </span></td></tr></tbody></table>


<h1 class="title topictitle1"><span class="keyword apiname">ConnectClientInfoAble()</span></h1>
<table width="100%"><tbody><tr><td align="left"><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">QNX SDP</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">7.1</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">C Library Reference</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">API</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">Developer</button></td><td align="right"><span style="margin:0px 5px; font-size:0.9em;">Updated: October 28, 2024</span></td></tr></tbody></table>




<div class="body refbody"><p class="shortdesc"><em class="ph i">Get extended information about a client connection, including abilities</em></p>


<div class="section refsyn"><h2 class="title sectiontitle">Synopsis:</h2>

<pre class="pre codeblock">
#include &lt;sys/neutrino.h&gt;

struct _client_able {
    unsigned ability;
    unsigned flags;
    uint64_t range_lo;
    uint64_t range_hi;
};

int ConnectClientInfoAble( int <var class="keyword varname">scoid</var>,
                           struct _client_info **<var class="keyword varname">info_pp</var>,
                           const int <var class="keyword varname">flags</var>,
                           struct _client_able <var class="keyword varname">abilities</var>[],
                           const int <var class="keyword varname">nable</var> );
</pre>

</div>



<div class="section"><h2 class="title sectiontitle">Arguments:</h2>


<dl class="dl">

<dt class="dt dlterm"><var class="keyword varname">scoid</var></dt>

<dd class="dd">A server connection ID that identifies the client process that you want
    to get information about, or -1 to get information about the calling process.
    This client is typically a process that's made a connection to the
    server to try to access a resource.
    You can get it from the
    <a class="xref" href="../m/_msg_info.html" title="Information about a message"><span class="keyword dtype">_msg_info</span></a>
    argument to
    <a class="xref" href="../m/msgreceivev.html" title="Wait for a message or pulse on a channel"><span class="keyword apiname">MsgReceivev()</span></a> or
    <a class="xref" href="../m/msginfo.html" title="Get additional information about a message"><span class="keyword apiname">MsgInfo()</span></a>.
</dd>




<dt class="dt dlterm"><var class="keyword varname">info_pp</var></dt>

<dd class="dd">The address of a location where the function can store a pointer to a <span class="keyword dtype">_client_info</span>
  structure that the function can fill with information about the client.
  For more information, see
  <a class="xref" href="connectclientinfoext.html" title="Get extended information about a client connection"><span class="keyword apiname">ConnectClientInfoExt()</span></a>.
  The <span class="keyword apiname">ConnectClientInfoAble()</span> function sets the <span class="keyword const">_NTO_CI_UNABLE</span> bit in
  the <var class="keyword varname">flags</var> member if the client doesn't have all the indicated abilities.
</dd>




<dt class="dt dlterm"><var class="keyword varname">flags</var></dt>

<dd class="dd">Zero or more of the following:

  <ul class="ul">
  <li class="li"><span class="keyword const">_NTO_CLIENTINFO_GETGROUPS</span> â get the supplementary group IDs
    
  </li>

  <li class="li"><span class="keyword const">_NTO_CLIENTINFO_GETTYPEID</span> â results in the type identifier being returned
immediately after the last returned supplementary group ID

</li>

  </ul>

</dd>




<dt class="dt dlterm"><var class="keyword varname">abilities</var></dt>

<dd class="dd">An array of
  <a class="xref" href="#connectclientinfoable__AbleStructure"><span class="keyword dtype">struct _client_able</span></a>
  structures that specifies the abilities that the client must have; see below.
</dd>




<dt class="dt dlterm"><var class="keyword varname">nable</var></dt>

  <dd class="dd">The number of entries in the <var class="keyword varname">abilities</var> array; there should only be one (see
    the Description below).</dd>



</dl>


</div>



<div class="section"><h2 class="title sectiontitle">Library:</h2>


<p class="p"><span class="ph filepath">libc</span></p>

<p class="p">Use the <span class="keyword option">-l c</span> option to
<a class="xref" href="../../../com.qnx.doc.neutrino.utilities/topic/q/qcc.html"><span class="keyword cmdname">qcc</span></a>
to link against this library.
This library is usually included automatically.</p>

</div>



<div class="section"><h2 class="title sectiontitle">Description:</h2>


<p class="p">






This call gets information about a client connection identified by
<var class="keyword varname">scoid</var>, allocates a buffer, stores the information in the buffer, and stores
a pointer to the buffer in the location that <var class="keyword varname">info_pp</var> points to. 
Use
<a class="xref" href="clientinfoextfree.html" title="Free the structure used for extended information about a client connection"><span class="keyword apiname">ClientInfoExtFree()</span></a>
to free this buffer.
</p>


<p class="p">
A server uses this function to determine whether or not a client has the required abilities; see
<a class="xref" href="../p/procmgr_ability.html" title="Control a process's ability to perform certain operations"><span class="keyword apiname">procmgr_ability()</span></a>,
and
<a class="xref" href="../p/procmgr_ability_create.html" title="Create a process-manager ability"><span class="keyword apiname">procmgr_ability_create()</span></a>.
The server should test if the client has a specific ability only when it receives a
request to perform a task that requires this ability, and not any sooner.
Ability tests result in system trace events being emitted. An ability test done in advance of when
it's required can give an erroneous indication of a process's need for an ability. This can
interfere with tools for generating security policies and result in system integrators granting
abilities to processes that don't need them. If you test abilities only when they're really
required, you'll find there almost always will be only one that's applicable at any point in time.
</p>


<p class="p">
The <span class="keyword apiname">ConnectClientInfoAble()</span> function is a specialized version of
<a class="xref" href="connectclientinfo.html" title="Get information about a client connection"><span class="keyword apiname">ConnectClientInfo()</span></a>.
</p>


<h2 class="sectiontitle" id="connectclientinfoable__AbleStructure"><span class="keyword dtype">_client_able</span> structure</h2>

<p class="p">
The <span class="keyword dtype">_client_able</span> structure has at least the following members:

</p>


<dl class="dl">

<dt class="dt dlterm"><var class="keyword varname">ability</var></dt>

<dd class="dd">The numeric identifier for the ability; either a <span class="keyword const">PROCMGR_AID_*</span> value (see
  <a class="xref" href="../p/procmgr_ability.html" title="Control a process's ability to perform certain operations"><span class="keyword apiname">procmgr_ability()</span></a>),
  or an ability that the server created by calling
  <a class="xref" href="../p/procmgr_ability_create.html" title="Create a process-manager ability"><span class="keyword apiname">procmgr_ability_create()</span></a>.

  <p class="p">
  
  In QNX Neutrino 7.0 or later, if the ID is a temporary one (i.e., it has <span class="keyword const">PROCMGR_AID_UNCREATED</span>
  ORed into it), <span class="keyword apiname">ConnectClientInfoAble()</span> looks it up again.
  If the ability has been created, <span class="keyword apiname">ConnectClientInfoAble()</span> replaces the temporary ID
  with the permanent one; otherwise it marks the ability as denied.
  </p>

</dd>




<dt class="dt dlterm"><var class="keyword varname">flags</var></dt>

<dd class="dd">The function sets this member to 1 if the client has the specified ability, or 0 if it doesn't.</dd>




<dt class="dt dlterm"><var class="keyword varname">range_lo</var></dt>

<dd class="dd">The lower limit on the range of the ability.</dd>




<dt class="dt dlterm"><var class="keyword varname">range_hi</var></dt>

<dd class="dd">The upper limit on the range of the ability.</dd>



</dl>


<p class="p">
Set the <var class="keyword varname">ability</var>, <var class="keyword varname">range_lo</var>, and <var class="keyword varname">range_hi</var> members before
calling <span class="keyword apiname">ConnectClientInfoAble()</span>; this function sets the <var class="keyword varname">flags</var> member.
</p>


</div>


<div class="section" id="connectclientinfoable__Returns"><h2 class="title sectiontitle">Returns:</h2>


<p class="p">
0, or -1 if an error occurred
(<a class="xref" href="../e/errno.html" title="Thread-local error variable"><var class="keyword varname">errno</var></a> is set).
</p>

</div>


<div class="section"><h2 class="title sectiontitle">Errors:</h2>


<dl class="dl" compact="compact">


<dt class="dt dlterm"><span class="keyword const">EFAULT</span></dt>

<dd class="dd">A fault occurred when the kernel tried to access the buffers provided.</dd>




<dt class="dt dlterm"><span class="keyword const">EINVAL</span></dt>

<dd class="dd">The process doesn't have a connection <var class="keyword varname">scoid</var>.</dd>




<dt class="dt dlterm"><span class="keyword const">ENOMEM</span></dt>

<dd class="dd">The function couldn't allocate the memory for the <span class="keyword dtype">_client_info</span> structure.</dd>




<dt class="dt dlterm"><span class="keyword const">E2BIG</span></dt>

<dd class="dd">The <var class="keyword varname">nable</var> parameter exceeds the maximum number of entries in the <var class="keyword varname">abilities</var> array.</dd>



</dl>


</div>



<div class="section"><h2 class="title sectiontitle">Classification:</h2>

<p class="p"><a class="xref" href="../summary.html#summary__CLASSIFICATION">QNX Neutrino</a></p>



<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
<thead class="thead" align="left">
<tr><th class="entry" valign="top" id="d1316255e504">Safety:</th>
<th class="entry" valign="top" id="d1316255e506">Â </th>
</tr>

</thead>

<tbody class="tbody">
<tr><td class="entry" valign="top" headers="d1316255e504 d1316255e506 ">Cancellation point</td>
<td class="entry" valign="top" headers="d1316255e504 d1316255e506 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d1316255e504 d1316255e506 ">Interrupt handler</td>
<td class="entry" valign="top" headers="d1316255e504 d1316255e506 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d1316255e504 d1316255e506 ">Signal handler</td>
<td class="entry" valign="top" headers="d1316255e504 d1316255e506 ">Yes</td>
</tr>

<tr><td class="entry" valign="top" headers="d1316255e504 d1316255e506 ">Thread</td>
<td class="entry" valign="top" headers="d1316255e504 d1316255e506 ">Yes</td>
</tr>

</tbody>

</table>
</div>

</div>


</div>





<div class="related-links"><div class="relinfo relref"><strong>Related reference</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/c/clientinfoextfree.html" title="Free the structure used for extended information about a client connection">ClientInfoExtFree()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/c/connectclientinfoext.html" title="Get extended information about a client connection">ConnectClientInfoExt()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/c/connectserverinfo.html" title="Get information about a server connection">ConnectServerInfo(), ConnectServerInfo_r()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/i/iofunc_ability_check.html" title="Verify that the client has a given resource manager ability">iofunc_ability_check()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/i/iofunc_client_info_able.html" title="Return information about a client connection, including abilities">iofunc_client_info_able()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/i/iofunc_client_info_ext.html" title="Return information about a client connection">iofunc_client_info_ext()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/m/_msg_info.html" title="Information about a message">_msg_info</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/m/msginfo.html" title="Get additional information about a message">MsgInfo(), MsgInfo_r()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/m/msgreceivev.html" title="Wait for a message or pulse on a channel">MsgReceivev(), MsgReceivev_r()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/n/nd_node_cmp.html" title="Compare two node descriptors">ND_NODE_CMP()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/n/netmgr_ndtostr.html" title="Convert a node descriptor into a string">netmgr_ndtostr()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/n/netmgr_remote_nd.html" title="Get a node descriptor that's relative to a remote node">netmgr_remote_nd()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/n/netmgr_strtond.html" title="Convert a string into a node descriptor">netmgr_strtond()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/p/procmgr_ability.html" title="Control a process's ability to perform certain operations">procmgr_ability()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/p/procmgr_ability_create.html" title="Create a process-manager ability">procmgr_ability_create()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/p/procmgr_ability_lookup.html" title="Look up a process-manager ability">procmgr_ability_lookup()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/p/procmgr_ability_name.html" title="Get the name of a custom ability">procmgr_ability_name()</a></div>
</div>
</div><div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-c.html" title="C"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">C</span></a></span>  </div>
</body>
</html>