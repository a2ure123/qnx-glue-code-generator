
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />        
      <meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="reference" /><meta name="DC.Title" content="_NTO_TRACE_GET*(), _NTO_TRACE_SET*()" /><meta name="abstract" content="Macros for working with the header of a trace event" /><meta name="description" content="Macros for working with the header of a trace event" /><meta name="indexterms" content="_NTO_TRACE_GETCPU(), _NTO_TRACE_GETEVENT(), _NTO_TRACE_GETEVENT_C(), _NTO_TRACE_SETEVENT_C(), _NTO_TRACE_SETEVENT(), trace events, class and event type, events (trace), class and event type, trace events, CPU index, events (trace), CPU index, multicore systems, CPU index in trace events, CPU, index in trace events, traceevent_t, event_data_t" /><meta name="DC.subject" content=", _NTO_TRACE_GETCPU(), _NTO_TRACE_GETEVENT(), _NTO_TRACE_GETEVENT_C(), _NTO_TRACE_SETEVENT_C(), _NTO_TRACE_SETEVENT(), trace events, class and event type, events (trace), CPU index, multicore systems, CPU index in trace events, CPU, index in trace events, traceevent_t, event_data_t" /><meta name="keywords" content=", _NTO_TRACE_GETCPU(), _NTO_TRACE_GETEVENT(), _NTO_TRACE_GETEVENT_C(), _NTO_TRACE_SETEVENT_C(), _NTO_TRACE_SETEVENT(), trace events, class and event type, events (trace), CPU index, multicore systems, CPU index in trace events, CPU, index in trace events, traceevent_t, event_data_t" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-n.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.sat/topic/about.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.ide.userguide/topic/analyze_sys_behavior.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/t/_trace_get_struct.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/t/traceevent.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/t/traceparser_cs.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/t/traceparser_cs_range.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.utilities/topic/t/tracelogger.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.utilities/topic/t/traceprinter.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="_nto_trace_get" /><meta name="DC.Language" content="en-us" /><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>_NTO_TRACE_GET*(), _NTO_TRACE_SET*()</title><link rel="canonical" type="html" href="https://www.qnx.com/developers/docs/7.1/#com.qnx.doc.neutrino.lib_ref/" /><!--  Generated with Oxygen version 18.1, build number 2017020917.  --><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/skins/skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../../../index.html";
            
            --></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><script type="text/javascript"> var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-27400275-1']); _gaq.push(['_setDomainName', 'www.qnx.com']);_gaq.push(['_setAllowLinker', true]);_gaq.push(['_trackPageview']);(function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="_nto_trace_get">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-n.html" title="N">N</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-n.html" title="N"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">N</span></a></span>  </span></td></tr></tbody></table>


<h1 class="title topictitle1"><span class="keyword apiname">_NTO_TRACE_GET*()</span>, <span class="keyword apiname">_NTO_TRACE_SET*()</span></h1>
<table width="100%"><tbody><tr><td align="left"><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">QNX SDP</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">7.1</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">C Library Reference</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">API</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">Developer</button></td><td align="right"><span style="margin:0px 5px; font-size:0.9em;">Updated: October 28, 2024</span></td></tr></tbody></table>





<div class="body refbody"><p class="shortdesc"><em class="ph i">Macros for working with the header of a trace event</em></p>


<div class="section refsyn"><h2 class="title sectiontitle">Synopsis:</h2>

<pre class="pre codeblock">
#include &lt;sys/trace.h&gt;

#define _NTO_TRACE_GETCPU(h) ...  
#define _NTO_TRACE_GETEVENT(h) ...
#define _NTO_TRACE_GETEVENT_C(h) ...    

#define _NTO_TRACE_SETEVENT_C(h,cl) ...
#define _NTO_TRACE_SETEVENT(h, e) ...
</pre>

</div>



<div class="section"><h2 class="title sectiontitle">Arguments:</h2>


<dl class="dl">

<dt class="dt dlterm"><var class="keyword varname">h</var></dt>

<dd class="dd">The header of a trace event.</dd>




<dt class="dt dlterm"><var class="keyword varname">cl</var></dt>

<dd class="dd">(<span class="keyword apiname">_NTO_TRACE_SETEVENT_C()</span> only) An internal class code of a trace event; see below.</dd>




<dt class="dt dlterm"><var class="keyword varname">e</var></dt>

<dd class="dd">(<span class="keyword apiname">_NTO_TRACE_SETEVENT()</span> only) An internal event code of a trace event; see below.</dd>



</dl>


<p class="p">
These arguments are all of type <span class="keyword dtype">unsigned</span>.
</p>


</div>



<div class="section"><h2 class="title sectiontitle">Description:</h2>


<p class="p">
You can use the <span class="keyword apiname">_NTO_TRACE_GET*()</span> and <span class="keyword apiname">_NTO_TRACE_SET*()</span> macros
to work with the header of a trace event (the <var class="keyword varname">header</var> member of a
<span class="keyword dtype">traceevent_t</span> or an <span class="keyword dtype">event_data_t</span> structure):
</p>


<dl class="dl">

<dt class="dt dlterm"><span class="keyword apiname">_NTO_TRACE_GETEVENT_C(h)</span></dt>

<dd class="dd">Get the class.</dd>




<dt class="dt dlterm"><span class="keyword apiname">_NTO_TRACE_GETEVENT(h)</span></dt>

<dd class="dd">Get the type of event.</dd>




<dt class="dt dlterm"><span class="keyword apiname">_NTO_TRACE_GETCPU(h)</span></dt>

<dd class="dd">Get the number of the CPU that the event occurred on.</dd>




<dt class="dt dlterm"><span class="keyword apiname">_NTO_TRACE_SETEVENT_C(h,cl)</span></dt>

<dd class="dd">Set the class in the header <var class="keyword varname">c</var> to be <var class="keyword varname">cl</var>.</dd>




<dt class="dt dlterm"><span class="keyword apiname">_NTO_TRACE_SETEVENT(h, e)</span></dt>

<dd class="dd">Set the event type in the header <var class="keyword varname">c</var> to be <var class="keyword varname">e</var>.</dd>



</dl>


<p class="p">
The class and event numbers that you use with these macros are internal representations that, when combined,
fit into the trace event's header.
There isn't a one-to-one mapping between the external and internal class numbers, so some of the
internal event numbers are adjusted to indicate the class:
</p>



<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">

<thead class="thead" align="left">
<tr>
  <th class="entry" valign="top" id="d2271747e242">External class</th>

  <th class="entry" valign="top" id="d2271747e245">Internal class</th>

  <th class="entry" valign="top" id="d2271747e248">Adjustment to event numbers</th>

</tr>

</thead>


<tbody class="tbody">

<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_COMM</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_COMM_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Â </td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_CONTROL</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_CONTROL_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Â </td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_EMPTY</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_EMPTY_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Â </td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_INT</span><sup class="ph sup">a</sup></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_INT_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Â </td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_INTENTER</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_INT_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Set to <span class="keyword const">_TRACE_INT_ENTRY</span></td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_INTEXIT</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_INT_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Set to <span class="keyword const">_TRACE_INT_EXIT</span></td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_INT_HANDLER_ENTER</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_INT_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Set to <span class="keyword const">_TRACE_INT_HANDLER_ENTRY</span></td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_INT_HANDLER_EXIT</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_INT_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Set to <span class="keyword const">_TRACE_INT_HANDLER_EXIT</span></td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_KERCALL</span><sup class="ph sup">a</sup></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_KER_CALL_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Â </td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_KERCALLENTER</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_KER_CALL_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Â </td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_KERCALLEXIT</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_KER_CALL_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Add <span class="keyword const">_TRACE_MAX_KER_CALL_NUM</span></td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_KERCALLINT</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_KER_CALL_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Add 2 * <span class="keyword const">_TRACE_MAX_KER_CALL_NUM</span></td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_PROCESS</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_PR_TH_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Set to the position of the rightmost set bit plus 1, shifted left 6 places</td>

</tr>






<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_SEC</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_SEC_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Â </td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_SYSTEM</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_SYSTEM_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Â </td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_THREAD</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_PR_TH_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Set to the position of the rightmost set bit</td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_USER</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_USER_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Â </td>

</tr>


<tr>
  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_NTO_TRACE_VTHREAD</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 "><span class="keyword const">_TRACE_PR_TH_C</span></td>

  <td class="entry" valign="top" headers="d2271747e242 d2271747e245 d2271747e248 ">Set to the position of the rightmost set bit, plus <span class="keyword const">_TRACE_MAX_TH_STATE_NUM</span></td>

</tr>


</tbody>

</table>
</div>


<p class="p">
<sup class="ph sup">a</sup> This is a pseudo-class that comprises all the related classes.
</p>


</div>


<div class="section"><h2 class="title sectiontitle">Examples:</h2>


<p class="p">
See the <a class="xref" href="../../../com.qnx.doc.sat/topic/samples_parser.html">parser</a>
in the <span class="q">&#147;Sample Programs&#148;</span> appendix of the System Analysis Toolkit <cite class="cite">User's Guide</cite>.
</p>


<p class="p">
Here's some code that converts external classes to internal ones, and vice versa:
</p>


<pre class="pre codeblock">
/*
 *  Finds rightmost bit location
 */
static unsigned ck_bit(uint32_t k)
{
	if(k) {
		unsigned s=0U;

		while (!(k &amp; 0x1)) {
			++s;
			k &gt;&gt;= 1;
		}

		return (s);
	} else {
		return (unsigned)(-1);
	}
}

void external_to_internal (unsigned ext_class, unsigned ext_event,
                           unsigned *int_class, unsigned *int_event)
{
   *int_class = -1;
   *int_event = -1;

   switch (ext_class)
   {
     case _NTO_TRACE_COMM:
        *int_class = _TRACE_COMM_C;
        *int_event = ext_event;
        break;

     case _NTO_TRACE_CONTROL:
        *int_class = _TRACE_CONTROL_C;
        *int_event = ext_event;
        break;

     case _NTO_TRACE_INTENTER:
        *int_class = _TRACE_INT_C;
        *int_event = _TRACE_INT_ENTRY;
        break;

     case _NTO_TRACE_INTEXIT:
        *int_class = _TRACE_INT_C;
        *int_event = _TRACE_INT_EXIT;
        break;

     case _NTO_TRACE_INT_HANDLER_ENTER:
        *int_class = _TRACE_INT_C;
        *int_event = _TRACE_INT_HANDLER_ENTRY;
        break;

     case _NTO_TRACE_INT_HANDLER_EXIT:
        *int_class = _TRACE_INT_C;
        *int_event = _TRACE_INT_HANDLER_EXIT;
        break;

     case _NTO_TRACE_KERCALLENTER:
        *int_class = _TRACE_KER_CALL_C;
        *int_event = ext_event;
        break;

     case _NTO_TRACE_KERCALLEXIT:
        *int_class = _TRACE_KER_CALL_C;
        *int_event = ext_event + _TRACE_MAX_KER_CALL_NUM;
        break;

     case _NTO_TRACE_KERCALLINT:
        *int_class = _TRACE_KER_CALL_C;
        *int_event = ext_event + (2 * _TRACE_MAX_KER_CALL_NUM);
        break;

     case _NTO_TRACE_PROCESS:
        *int_class = _TRACE_PR_TH_C;
        *int_event = (ck_bit( ext_event) + 1) &lt;&lt; 6;
        break;

     case _NTO_TRACE_SEC:
        *int_class = _TRACE_SEC_C;
        *int_event = ext_event;
        break;

     case _NTO_TRACE_SYSTEM:
        *int_class = _TRACE_SYSTEM_C;
        *int_event = ext_event;
        break;

     case _NTO_TRACE_THREAD:
        *int_class = _TRACE_PR_TH_C; 
        *int_event = ck_bit( ext_event);
        break;

     case _NTO_TRACE_USER:
        *int_class = _TRACE_USER_C;
        *int_event = ext_event;
        break;

     case _NTO_TRACE_VTHREAD:
        *int_class = _TRACE_PR_TH_C;
        *int_event = ck_bit( ext_event) + _TRACE_MAX_TH_STATE_NUM;
        break;

     default:
        printf ("Unknown class: %d\n", ext_class);
   }
}
   
void internal_to_external (unsigned int_class, unsigned int_event,
                           unsigned *ext_class, unsigned *ext_event)
{
   int event_64 = 0;

   *ext_class = -1;
   *ext_event = -1;

   switch (int_class)
   {
     case _TRACE_COMM_C:
        *ext_class = _NTO_TRACE_COMM;
        *ext_event = int_event;
        break;

     case _TRACE_CONTROL_C:
        *ext_class = _NTO_TRACE_CONTROL;
        *ext_event = int_event;
        break;

     case _TRACE_INT_C:
        *ext_event = -1;
        switch (int_event)
        {
           case _TRACE_INT_ENTRY:
              *ext_class = _NTO_TRACE_INTENTER;
              break;

           case _TRACE_INT_EXIT:
              *ext_class = _NTO_TRACE_INTEXIT;
              break;

           case _TRACE_INT_HANDLER_ENTRY:
              *ext_class = _NTO_TRACE_INT_HANDLER_ENTER;
              break;

           case _TRACE_INT_HANDLER_EXIT:
              *ext_class = _NTO_TRACE_INT_HANDLER_EXIT;
              break;

           default:
              printf ("Unknown Interrupt event: %d\n", int_event);
        }
        break;

     case _TRACE_KER_CALL_C:

        /* Remove _NTO_TRACE_KERCALL64 if it's set. */
        if (int_event &amp; _NTO_TRACE_KERCALL64)
        {
           event_64 = 1;
           int_event = int_event &amp; ~_NTO_TRACE_KERCALL64;
        }

        /* Determine the class and event. */
        if (int_event &lt; _TRACE_MAX_KER_CALL_NUM)
        {
           *ext_class = _NTO_TRACE_KERCALLENTER;
           *ext_event = int_event;
        }
        else if (int_event &lt; 2 * _TRACE_MAX_KER_CALL_NUM)
        {
           *ext_class = _NTO_TRACE_KERCALLEXIT;
           *ext_event = int_event - _TRACE_MAX_KER_CALL_NUM;
        }
        else if (int_event &lt; 3 * _TRACE_MAX_KER_CALL_NUM)
        {
           *ext_class = _NTO_TRACE_KERCALLINT;
           *ext_event = int_event - 2 * _TRACE_MAX_KER_CALL_NUM;
        }
        else
        {
           printf ("Unknown kernel event: %d\n", int_event);
        }

        /* Add _NTO_TRACE_KERCALL64 to the external event if it was set
           for the internal event. */
        if (event_64)
        {
           *ext_event = *ext_event | _NTO_TRACE_KERCALL64;
        }

        break;

     case _TRACE_PR_TH_C:
        *ext_event = -1;
        if (int_event &gt;= (2 * _TRACE_MAX_TH_STATE_NUM))
        {
           *ext_class = _NTO_TRACE_PROCESS;
           *ext_event = 1 &lt;&lt; ((int_event &gt;&gt; 6) - 1);
        }
        else if (int_event &gt;= _TRACE_MAX_TH_STATE_NUM)
        {
           *ext_class = _NTO_TRACE_VTHREAD;
           *ext_event = 1 &lt;&lt; (int_event - _TRACE_MAX_TH_STATE_NUM);
        }
        else
        {
           *ext_class = _NTO_TRACE_THREAD;
           *ext_event = 1 &lt;&lt; int_event;
        }
        break;

     case _TRACE_SEC_C:
        *ext_class = _NTO_TRACE_SEC;
        *ext_event = int_event;
        break;

     case _TRACE_SYSTEM_C:
        *ext_class = _NTO_TRACE_SYSTEM;
        *ext_event = int_event;
        break;

     case _TRACE_USER_C:
        *ext_class = _NTO_TRACE_USER;
        *ext_event = int_event;
        break;

     default:
        printf ("Unknown class: %d\n", int_class);
   }
}
</pre>


</div>



<div class="section"><h2 class="title sectiontitle">Classification:</h2>

<p class="p"><a class="xref" href="../summary.html#summary__CLASSIFICATION">QNX Neutrino</a></p>



<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
<thead class="thead" align="left">
<tr><th class="entry" valign="top" id="d2271747e572">Safety:</th>
<th class="entry" valign="top" id="d2271747e574">Â </th>
</tr>

</thead>

<tbody class="tbody">
<tr><td class="entry" valign="top" headers="d2271747e572 d2271747e574 ">Cancellation point</td>
<td class="entry" valign="top" headers="d2271747e572 d2271747e574 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d2271747e572 d2271747e574 ">Interrupt handler</td>
<td class="entry" valign="top" headers="d2271747e572 d2271747e574 ">Yes</td>
</tr>

<tr><td class="entry" valign="top" headers="d2271747e572 d2271747e574 ">Signal handler</td>
<td class="entry" valign="top" headers="d2271747e572 d2271747e574 ">Yes</td>
</tr>

<tr><td class="entry" valign="top" headers="d2271747e572 d2271747e574 ">Thread</td>
<td class="entry" valign="top" headers="d2271747e572 d2271747e574 ">Yes</td>
</tr>

</tbody>

</table>
</div>

</div>


</div>


<div class="related-links"><div class="relinfo relconcepts"><strong>Related concepts</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.sat/topic/about.html" title="System Analysis Toolkit (SAT) User's Guide">System Analysis Toolkit (SAT) User's Guide</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.ide.userguide/topic/analyze_sys_behavior.html" title="Analyzing System Behavior (IDE User's Guide)">Analyzing System Behavior (IDE User's Guide)</a></div>
</div>
<div class="relinfo relref"><strong>Related reference</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/t/_trace_get_struct.html" title="Get the flag from the header of a trace event">_TRACE_GET_STRUCT()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/t/traceevent.html" title="Control the tracing of kernel events">TraceEvent()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/t/traceparser_cs.html" title="Attach a callback to a trace event">traceparser_cs()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/t/traceparser_cs_range.html" title="Attach a callback to a range of events">traceparser_cs_range()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.utilities/topic/t/tracelogger.html" title="tracelogger (Utilities Reference)">tracelogger (Utilities Reference)</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.utilities/topic/t/traceprinter.html" title="traceprinter (Utilities Reference)">traceprinter (Utilities Reference)</a></div>
</div>
</div><div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-n.html" title="N"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">N</span></a></span>  </div>
</body>
</html>