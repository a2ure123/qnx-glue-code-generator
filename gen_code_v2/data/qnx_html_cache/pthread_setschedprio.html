
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />        
      <meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="reference" /><meta name="DC.Title" content="pthread_setschedprio()" /><meta name="abstract" content="Set a thread's priority" /><meta name="description" content="Set a thread's priority" /><meta name="indexterms" content="pthread_setschedprio()" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.sys_arch/topic/kernel_SCHEDULING.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.prog/topic/overview_SCHEDS.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/p/procmgr_ability.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/p/pthread_getschedparam.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/p/pthread_setschedparam.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sched_setparam.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="pthread_setschedprio" /><meta name="DC.Language" content="en-us" /><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>pthread_setschedprio()</title><link rel="canonical" type="html" href="https://www.qnx.com/developers/docs/7.1/#com.qnx.doc.neutrino.lib_ref/" /><!--  Generated with Oxygen version 18.1, build number 2017020917.  --><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/skins/skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../../../index.html";
            
            --></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><script type="text/javascript"> var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-27400275-1']); _gaq.push(['_setDomainName', 'www.qnx.com']);_gaq.push(['_setAllowLinker', true]);_gaq.push(['_trackPageview']);(function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="pthread_setschedprio">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" title="P">P</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" title="P"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">P</span></a></span>  </span></td></tr></tbody></table>


<h1 class="title topictitle1"><span class="keyword apiname">pthread_setschedprio()</span></h1>
<table width="100%"><tbody><tr><td align="left"><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">QNX SDP</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">7.1</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">C Library Reference</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">API</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">Developer</button></td><td align="right"><span style="margin:0px 5px; font-size:0.9em;">Updated: October 28, 2024</span></td></tr></tbody></table>


<div class="body refbody"><p class="shortdesc"><em class="ph i">Set a thread's priority</em></p>


<div class="section">

<p class="p">



</p>

</div>


<div class="section refsyn"><h2 class="title sectiontitle">Synopsis:</h2>

<pre class="pre codeblock">
#include &lt;pthread.h&gt;

int pthread_setschedprio( pthread_t <var class="keyword varname">thread</var>,
                          int <var class="keyword varname">prio</var> );
</pre>

</div>



<div class="section"><h2 class="title sectiontitle">Arguments:</h2>


<dl class="dl">

<dt class="dt dlterm"><var class="keyword varname">thread</var></dt>

<dd class="dd">The ID of the thread that you want to set the priority for.
  You can get a thread ID by calling
  <a class="xref" href="pthread_create.html" title="Create a thread"><span class="keyword apiname">pthread_create()</span></a>
  or
  <a class="xref" href="pthread_self.html" title="Get the calling thread's ID"><span class="keyword apiname">pthread_self()</span></a>.
</dd>




<dt class="dt dlterm"><var class="keyword varname">prio</var></dt>

<dd class="dd">The new scheduling priority.

  <p class="p">
  As an extension to POSIX in QNX Neutrino 6.6 or later,
  you can wrap the new priority in one these macros to specify how to handle out-of-range priority requests:
  </p>


  <ul class="ul">
  <li class="li"><span class="keyword apiname">SCHED_PRIO_LIMIT_ERROR(prio)</span> â indicate an error
    
  </li>


  <li class="li"><span class="keyword apiname">SCHED_PRIO_LIMIT_SATURATE(prio)</span> â use the maximum allowed priority
    (reach a <span class="q">&#147;maximum saturation point&#148;</span>)
    
  </li>


  </ul>


  <p class="p">
  If
  <a class="xref" href="../../../com.qnx.doc.neutrino.utilities/topic/p/procnto.html"><span class="keyword cmdname">procnto</span></a>
  was started with a <span class="keyword option">-P</span> option ending with <span class="keyword option">s</span> or <span class="keyword option">S</span>,
  out-of-range priority requests by default <span class="q">&#147;saturate&#148;</span> at the maximum allowed value.
  </p>

</dd>



</dl>


</div>



<div class="section"><h2 class="title sectiontitle">Library:</h2>


<p class="p"><span class="ph filepath">libc</span></p>


<p class="p">
Use the <span class="keyword option">-l c</span> option to
<a class="xref" href="../../../com.qnx.doc.neutrino.utilities/topic/q/qcc.html"><span class="keyword cmdname">qcc</span></a>
to link against this library.
This library is usually included automatically.
</p>

</div>



<div class="section"><h2 class="title sectiontitle">Description:</h2>


<p class="p">
The <span class="keyword apiname">pthread_setschedprio()</span> function sets the priority of
thread <var class="keyword varname">thread</var> to <var class="keyword varname">prio</var>.
</p>


<p class="p">
If the thread is running or runnable, the effect on its position in the
ready queue depends on the direction of the modification:
</p>


<ul class="ul">
<li class="li">If you raise the priority, the thread becomes the tail of the
  ready queue for that priority.
</li>


<li class="li">If you don't change the priority, the thread doesn't change position
  in the ready queue.
</li>


<li class="li">If you lower the priority, the thread becomes the head of the ready queue for that priority.</li>


</ul>


<p class="p">
The <span class="keyword apiname">pthread_setschedprio()</span> function gives you a way
to temporarily raise a thread's priority and lower it again,
without yielding to other threads of the same priority.
This is necessary if you have to implement your own strategies
for bounding priority inversion, such as priority inheritance or
priority ceilings.
</p>


<div class="note note"><span class="notetitle">Note:</span> 
In order to change its priority to a value above the maximum permitted for unprivileged processes,
your process must have the <span class="keyword const">PROCMGR_AID_PRIORITY</span> ability enabled.
For more information, see
<a class="xref" href="procmgr_ability.html" title="Control a process's ability to perform certain operations"><span class="keyword apiname">procmgr_ability()</span></a>.

</div>


</div>



<div class="section"><h2 class="title sectiontitle">Returns:</h2>


<dl class="dl" compact="compact">

<dt class="dt dlterm"><span class="keyword const">EOK</span></dt>

<dd class="dd">Success.</dd>




<dt class="dt dlterm"><span class="keyword const">EINVAL</span></dt>

<dd class="dd">The priority isn't valid for the scheduling policy of the specified thread.</dd>




<dt class="dt dlterm"><span class="keyword const">ENOTSUP</span></dt>

<dd class="dd">The specified priority isn't supported.</dd>




<dt class="dt dlterm"><span class="keyword const">EPERM</span></dt>

<dd class="dd">The calling process doesn't have the required permission; see
  <a class="xref" href="procmgr_ability.html" title="Control a process's ability to perform certain operations"><span class="keyword apiname">procmgr_ability()</span></a>.
</dd>




<dt class="dt dlterm"><span class="keyword const">ESRCH</span></dt>

<dd class="dd">Invalid thread ID <var class="keyword varname">thread</var>.</dd>



</dl>


</div>



<div class="section"><h2 class="title sectiontitle">Classification:</h2>


<p class="p"><a class="xref" href="../summary.html#summary__CLASSIFICATION">POSIX 1003.1 TPS</a></p>



<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
<thead class="thead" align="left">
<tr><th class="entry" valign="top" id="d2449705e313">Safety:</th>
<th class="entry" valign="top" id="d2449705e315">Â </th>
</tr>

</thead>

<tbody class="tbody">
<tr><td class="entry" valign="top" headers="d2449705e313 d2449705e315 ">Cancellation point</td>
<td class="entry" valign="top" headers="d2449705e313 d2449705e315 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d2449705e313 d2449705e315 ">Interrupt handler</td>
<td class="entry" valign="top" headers="d2449705e313 d2449705e315 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d2449705e313 d2449705e315 ">Signal handler</td>
<td class="entry" valign="top" headers="d2449705e313 d2449705e315 ">Yes</td>
</tr>

<tr><td class="entry" valign="top" headers="d2449705e313 d2449705e315 ">Thread</td>
<td class="entry" valign="top" headers="d2449705e313 d2449705e315 ">Yes</td>
</tr>

</tbody>

</table>
</div>

</div>


</div>





<div class="related-links"><div class="relinfo relconcepts"><strong>Related concepts</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.sys_arch/topic/kernel_SCHEDULING.html" title="Thread scheduling (System Architecture)">Thread scheduling (System Architecture)</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.prog/topic/overview_SCHEDS.html" title="Scheduling policies (QNX Neutrino Programmer's Guide)">Scheduling policies (<span class="keyword">QNX Neutrino</span> Programmer's Guide)</a></div>
</div>
<div class="relinfo relref"><strong>Related reference</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/p/procmgr_ability.html" title="Control a process's ability to perform certain operations">procmgr_ability()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/p/pthread_getschedparam.html" title="Get a thread's scheduling parameters">pthread_getschedparam()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/p/pthread_setschedparam.html" title="Set thread scheduling parameters">pthread_setschedparam()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sched_setparam.html" title="Change the priority of a process">sched_setparam()</a></div>
</div>
</div><div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" title="P"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">P</span></a></span>  </div>
</body>
</html>