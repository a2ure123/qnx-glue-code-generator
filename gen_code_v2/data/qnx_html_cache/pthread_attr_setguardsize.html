
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />        
      <meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="reference" /><meta name="DC.Title" content="pthread_attr_setguardsize()" /><meta name="abstract" content="Set the size of the thread's guard area" /><meta name="description" content="Set the size of the thread's guard area" /><meta name="indexterms" content="pthread_attr_setguardsize()" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.getting_started/topic/s1_procs.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/p/pthread_attr_getguardsize.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/p/pthread_attr_init.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/p/pthread_attr_setstackaddr.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sysconf.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="pthread_attr_setguardsize" /><meta name="DC.Language" content="en-us" /><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>pthread_attr_setguardsize()</title><link rel="canonical" type="html" href="https://www.qnx.com/developers/docs/7.1/#com.qnx.doc.neutrino.lib_ref/" /><!--  Generated with Oxygen version 18.1, build number 2017020917.  --><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/skins/skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../../../index.html";
            
            --></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><script type="text/javascript"> var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-27400275-1']); _gaq.push(['_setDomainName', 'www.qnx.com']);_gaq.push(['_setAllowLinker', true]);_gaq.push(['_trackPageview']);(function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="pthread_attr_setguardsize">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" title="P">P</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" title="P"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">P</span></a></span>  </span></td></tr></tbody></table>


<h1 class="title topictitle1"><span class="keyword apiname">pthread_attr_setguardsize()</span></h1>
<table width="100%"><tbody><tr><td align="left"><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">QNX SDP</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">7.1</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">C Library Reference</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">API</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">Developer</button></td><td align="right"><span style="margin:0px 5px; font-size:0.9em;">Updated: October 28, 2024</span></td></tr></tbody></table>


<div class="body refbody"><p class="shortdesc"><em class="ph i">Set the size of the thread's guard area</em></p>


<div class="section refsyn"><h2 class="title sectiontitle">Synopsis:</h2>

<pre class="pre codeblock">
#include &lt;pthread.h&gt;

int pthread_attr_setguardsize( 
             pthread_attr_t* <var class="keyword varname">attr</var>,
             size_t <var class="keyword varname">guardsize</var> );
</pre>

</div>



<div class="section"><h2 class="title sectiontitle">Arguments:</h2>


<dl class="dl">

<dt class="dt dlterm"><var class="keyword varname">attr</var></dt>

<dd class="dd">A pointer to the <span class="keyword dtype">pthread_attr_t</span> structure that defines
  the attributes to use when creating new threads.
  For more information, see
  <a class="xref" href="pthread_attr_init.html" title="Initialize a thread-attribute object"><span class="keyword apiname">pthread_attr_init()</span></a>.
</dd>




<dt class="dt dlterm"><var class="keyword varname">guardsize</var></dt>

<dd class="dd">The new value for the size of the thread's guard area.</dd>



</dl>


</div>



<div class="section"><h2 class="title sectiontitle">Library:</h2>


<p class="p"><span class="ph filepath">libc</span></p>


<p class="p">
Use the <span class="keyword option">-l c</span> option to
<a class="xref" href="../../../com.qnx.doc.neutrino.utilities/topic/q/qcc.html"><span class="keyword cmdname">qcc</span></a>
to link against this library.
This library is usually included automatically.
</p>

</div>



<div class="section"><h2 class="title sectiontitle">Description:</h2>


<p class="p">



The <span class="keyword apiname">pthread_attr_setguardsize()</span> function sets the
size of the thread's guard area in
the attribute structure <var class="keyword varname">attr</var> to <var class="keyword varname">guardsize</var>.
</p>


<p class="p">

If <var class="keyword varname">guardsize</var> is 0, threads created with
<var class="keyword varname">attr</var> have no guard area; otherwise, a guard area of at least
<var class="keyword varname">guardsize</var> bytes is provided.
You can get the default <var class="keyword varname">guardsize</var> value by specifying
<span class="keyword const">_SC_PAGESIZE</span> in a call to
<a class="xref" href="../s/sysconf.html" title="Return the value of a configurable system limit or option"><span class="keyword apiname">sysconf()</span></a>.
</p>


<p class="p">



The guardsize attribute controls the size of the guard area for the
thread's stack.  This guard area helps protect against stack overflows;
<var class="keyword varname">guardsize</var> bytes of extra memory is allocated at the overflow 
end of the stack.  If a thread overflows into this buffer, it receives
a <span class="keyword const">SIGSEGV</span> signal.
</p>


<p class="p">
The guardsize attribute is provided because:
</p>


<ul class="ul">
<li class="li">Stack overflow protection can waste system resources.
  An application that creates many threads can save system resources
  by turning off guard areas if it trusts its threads not to overflow the stack.
</li>


<li class="li">When threads allocate large objects on the stack, a large 
  <var class="keyword varname">guardsize</var> is required to detect stack overflows.
</li>


</ul>


</div>



<div class="section"><h2 class="title sectiontitle">Returns:</h2>


<p class="p">The <span class="keyword apiname">pthread_attr_setguardsize()</span> function always returns <span class="keyword const">EOK</span>.</p>


</div>



<div class="section"><h2 class="title sectiontitle">Classification:</h2>

<p class="p"><a class="xref" href="../summary.html#summary__CLASSIFICATION">POSIX 1003.1</a></p>



<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
<thead class="thead" align="left">
<tr><th class="entry" valign="top" id="d2390130e232">Safety:</th>
<th class="entry" valign="top" id="d2390130e234">Â </th>
</tr>

</thead>

<tbody class="tbody">
<tr><td class="entry" valign="top" headers="d2390130e232 d2390130e234 ">Cancellation point</td>
<td class="entry" valign="top" headers="d2390130e232 d2390130e234 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d2390130e232 d2390130e234 ">Interrupt handler</td>
<td class="entry" valign="top" headers="d2390130e232 d2390130e234 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d2390130e232 d2390130e234 ">Signal handler</td>
<td class="entry" valign="top" headers="d2390130e232 d2390130e234 ">Yes</td>
</tr>

<tr><td class="entry" valign="top" headers="d2390130e232 d2390130e234 ">Thread</td>
<td class="entry" valign="top" headers="d2390130e232 d2390130e234 ">Yes</td>
</tr>

</tbody>

</table>
</div>

</div>



<div class="section"><h2 class="title sectiontitle">Caveats:</h2>


<p class="p">
If you provide a stack (using <var class="keyword varname">attr</var>'s 
<var class="keyword varname">stackaddr</var> attribute; see
<a class="xref" href="pthread_attr_setstackaddr.html" title="Set the thread stack address attribute"><span class="keyword apiname">pthread_attr_setstackaddr()</span></a>),
the <var class="keyword varname">guardsize</var> is ignored, and there's no stack overflow
protection for that thread.
</p>


<p class="p">
The <var class="keyword varname">guardsize</var> argument is completely ignored when using a physical mode memory
manager.
</p>

</div>


</div>





<div class="related-links"><div class="relinfo relconcepts"><strong>Related concepts</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.getting_started/topic/s1_procs.html" title="Processes and Threads (Getting Started with QNX Neutrino)">Processes and Threads (Getting Started with <span class="keyword">QNX Neutrino</span>)</a></div>
</div>
<div class="relinfo relref"><strong>Related reference</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/p/pthread_attr_getguardsize.html" title="Get the size of the thread's guard area">pthread_attr_getguardsize()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/p/pthread_attr_init.html" title="Initialize a thread-attribute object">pthread_attr_init()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/p/pthread_attr_setstackaddr.html" title="Set the thread stack address attribute">pthread_attr_setstackaddr()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sysconf.html" title="Return the value of a configurable system limit or option">sysconf()</a></div>
</div>
</div><div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" title="P"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">P</span></a></span>  </div>
</body>
</html>