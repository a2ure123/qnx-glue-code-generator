
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />        
      <meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="reference" /><meta name="DC.Title" content="glob()" /><meta name="abstract" content="Find paths matching a pattern" /><meta name="description" content="Find paths matching a pattern" /><meta name="indexterms" content="glob()" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-g.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/g/globfree.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/w/wordexp.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/w/wordfree.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="glob" /><meta name="DC.Language" content="en-us" /><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>glob()</title><link rel="canonical" type="html" href="https://www.qnx.com/developers/docs/7.1/#com.qnx.doc.neutrino.lib_ref/" /><!--  Generated with Oxygen version 18.1, build number 2017020917.  --><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/skins/skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../../../index.html";
            
            --></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><script type="text/javascript"> var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-27400275-1']); _gaq.push(['_setDomainName', 'www.qnx.com']);_gaq.push(['_setAllowLinker', true]);_gaq.push(['_trackPageview']);(function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="glob">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-g.html" title="G">G</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-g.html" title="G"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">G</span></a></span>  </span></td></tr></tbody></table>


<h1 class="title topictitle1"><span class="keyword apiname">glob()</span></h1>
<table width="100%"><tbody><tr><td align="left"><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">QNX SDP</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">7.1</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">C Library Reference</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">API</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">Developer</button></td><td align="right"><span style="margin:0px 5px; font-size:0.9em;">Updated: October 28, 2024</span></td></tr></tbody></table>


<div class="body refbody"><p class="shortdesc"><em class="ph i">Find paths matching a pattern</em></p>


<div class="section refsyn"><h2 class="title sectiontitle">Synopsis:</h2>

<pre class="pre codeblock">
#include &lt;glob.h&gt;

int glob( const char* <var class="keyword varname">pattern</var>,
          int <var class="keyword varname">flags</var>,
          int (*<var class="keyword varname">errfunc</var>)( const char* <var class="keyword varname">epath</var>,
                          int <var class="keyword varname">error</var> ),
          glob_t* <var class="keyword varname">pglob</var> );
</pre>

</div>



<div class="section"><h2 class="title sectiontitle">Arguments:</h2>


<dl class="dl">

<dt class="dt dlterm"><var class="keyword varname">pattern</var></dt>

<dd class="dd">The pattern you want to match.
  This can include these wildcard characters:

  <ul class="ul">
  <li class="li"><samp class="ph codeph">*</samp> matches any string, of any length</li>

  <li class="li"><samp class="ph codeph">?</samp> matches any single character</li>

  <li class="li"><samp class="ph codeph">[</samp><var class="keyword varname">chars</var><samp class="ph codeph">]</samp> matches any of the
    characters found in the string <var class="keyword varname">chars</var>.
  </li>

  </ul>

</dd>




<dt class="dt dlterm"><var class="keyword varname">flags</var></dt>

<dd class="dd">Flags that affect the search; see below.</dd>




<dt class="dt dlterm"><var class="keyword varname">errfunc</var></dt>

<dd class="dd">A pointer to a function that <span class="keyword apiname">glob()</span> calls when it encounters
  a directory that it can't open or read.
  For more information, see below.
</dd>




<dt class="dt dlterm"><var class="keyword varname">pglob</var></dt>

<dd class="dd">A pointer to a <span class="keyword dtype">glob_t</span> structure where <span class="keyword apiname">glob()</span>
  can store the paths found.
  This structure contains at least the following members:
  

  <ul class="ul">
  <li class="li"><span class="keyword dtype">size_t</span> <var class="keyword varname">gl_pathc</var> â the number of
    pathnames matched by <var class="keyword varname">pattern</var>.
  </li>


  <li class="li"><span class="keyword dtype">char** </span> <var class="keyword varname">gl_pathv</var> â a
    <span class="keyword const">NULL</span>-terminated array of pointers to the pathnames
    matched by <var class="keyword varname">pattern</var>.
  </li>


  <li class="li"><span class="keyword dtype">size_t</span> <var class="keyword varname">gl_offs</var> â the number of pointers
    to reserve at the beginning of <var class="keyword varname">gl_pathv</var>.
  </li>


  </ul>


  <p class="p">
  You must create the <span class="keyword dtype">glob_t</span> structure before calling
  <span class="keyword apiname">glob()</span>.
  The <span class="keyword apiname">glob()</span> function allocates storage as needed for the
  <var class="keyword varname">gl_pathv</var> array.
  Use 
  <a class="xref" href="globfree.html" title="Free storage allocated by a call to glob()"><span class="keyword apiname">globfree()</span></a>
  to free this space.
  </p>

</dd>



</dl>


</div>



<div class="section"><h2 class="title sectiontitle">Library:</h2>


<p class="p"><span class="ph filepath">libc</span></p>

<p class="p">Use the <span class="keyword option">-l c</span> option to
<a class="xref" href="../../../com.qnx.doc.neutrino.utilities/topic/q/qcc.html"><span class="keyword cmdname">qcc</span></a>
to link against this library.
This library is usually included automatically.
</p>


</div>



<div class="section"><h2 class="title sectiontitle">Description:</h2>


<p class="p">



The <span class="keyword apiname">glob()</span> function finds pathnames matching the given pattern.
</p>


<p class="p">
In order to have access to a pathname, <span class="keyword apiname">glob()</span> must have search
permission on every component of the path except the last, and read
permission on each directory of every filename component of
<var class="keyword varname">pattern</var> that contains any of the special characters
(<samp class="ph codeph">*</samp>, <samp class="ph codeph">?</samp>, <samp class="ph codeph">[</samp> and <samp class="ph codeph">]</samp>).
</p>


<p class="p">
The <var class="keyword varname">errfunc</var> argument is a pointer to an error-handler function
with this prototype:
</p>


<pre class="pre codeblock">
int errfunc( const char* <var class="keyword varname">epath</var>, int <var class="keyword varname">error</var> );
</pre>


<p class="p">
The <var class="keyword varname">errfunc</var> function is called when <span class="keyword apiname">glob()</span> encounters
a directory that it can't open or read.
The arguments are:
</p>


<dl class="dl">

<dt class="dt dlterm"><var class="keyword varname">epath</var></dt>

<dd class="dd">A pointer to the path that failed.</dd>




<dt class="dt dlterm"><var class="keyword varname">error</var></dt>

<dd class="dd">The value of
  <a class="xref" href="../e/errno.html" title="Thread-local error variable"><var class="keyword varname">errno</var></a> from the failure.
  The <var class="keyword varname">error</var> argument can be set to any of the values returned by
  <a class="xref" href="../o/opendir.html" title="Open a directory"><span class="keyword apiname">opendir()</span></a>,
  <a class="xref" href="../r/readdir.html" title="Read a directory entry"><span class="keyword apiname">readdir()</span></a>, or
  <a class="xref" href="../s/stat.html" title="Get information about a file or directory, given a path"><span class="keyword apiname">stat()</span></a>.
</dd>



</dl>


<p class="p">
The <var class="keyword varname">errfunc</var> function should return 0 if <span class="keyword apiname">glob()</span> should
continue, or a nonzero value if <span class="keyword apiname">glob()</span> should stop searching.
</p>


<p class="p">
You can set <var class="keyword varname">errfunc</var> to <span class="keyword const">NULL</span> to ignore these types
of errors.
</p>


<p class="p">
The <var class="keyword varname">flags</var> argument can be set to any combination of the following
bits:
</p>


<dl class="dl">

<dt class="dt dlterm"><span class="keyword const">GLOB_APPEND</span></dt>

<dd class="dd">Append found pathnames to the ones from a previous call from <span class="keyword apiname">glob()</span>.</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_DOOFFS</span></dt>

<dd class="dd">Use the value in <var class="keyword varname">pglob-&gt;gl_offs</var> to specify how many
  <span class="keyword const">NULL</span> pointers to add at the beginning of
  <var class="keyword varname">pglob-&gt;pathv</var>.
  After the call to <span class="keyword apiname">glob()</span>, <var class="keyword varname">pglob-&gt;pathv</var> will
  contain <var class="keyword varname">pglob-&gt;gl_offs</var>
  <span class="keyword const">NULL</span> pointers, followed by <var class="keyword varname">pglob-&gt;gl_pathc</var>
  pathnames, followed by a <span class="keyword const">NULL</span> pointer.
  This can be useful if you're building a command to be applied to the matched files.
</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_ERR</span></dt>

<dd class="dd">Cause <span class="keyword apiname">glob()</span> to return when it encounters a directory that it
  can't open or read.
  Otherwise, <span class="keyword apiname">glob()</span> will continue to find matches.
</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_MARK</span></dt>

<dd class="dd">Append a slash to each matching pathname that's a directory.</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_NOCHECK</span></dt>

<dd class="dd">If <var class="keyword varname">pattern</var> doesn't match any path names, return only the
  contents of <var class="keyword varname">pattern</var>.
</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_NOESCAPE</span></dt>

<dd class="dd">Disable backslash escapes in <var class="keyword varname">pattern</var>.</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_NOSORT</span></dt>

<dd class="dd">Don't sort the returned pathnames; they'll appear in an arbitrary order.
  The default is to sort the pathnames.
</dd>



</dl>


<p class="p">
The following flags are BSD extensions:
</p>


<dl class="dl">

<dt class="dt dlterm"><span class="keyword const">GLOB_PERIOD</span></dt>

<dd class="dd">Allow metacharacters to match leading periods.</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_MAGCHAR</span></dt>

<dd class="dd">Pattern had globbing characters.</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_ALTDIRFUNC</span></dt>

<dd class="dd">Use alternately specified directory functions.</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_BRACE</span></dt>

<dd class="dd">Expand braces the way that the C shell does.</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_NOMAGIC</span></dt>

<dd class="dd">Similar to <span class="keyword const">GLOB_NOCHECK</span> without magic characters
  (<span class="keyword cmdname">csh</span>).
</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_TILDE</span></dt>

<dd class="dd">Expand tilde names from the <span class="ph filepath">passwd</span> file.</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_NO_DOTDIRS</span></dt>

<dd class="dd">Make <span class="ph filepath">.</span> and <span class="ph filepath">..</span> vanish from wildcards.</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_LIMIT</span></dt>

<dd class="dd">Limit memory used by matches to <span class="keyword const">ARG_MAX</span>.</dd>



</dl>


</div>



<div class="section"><h2 class="title sectiontitle">Returns:</h2>


<p class="p">
Zero for success, or an error value.
</p>

</div>



<div class="section"><h2 class="title sectiontitle">Errors:</h2>


<dl class="dl" compact="compact">

<dt class="dt dlterm"><span class="keyword const">GLOB_ABEND</span></dt>

<dd class="dd">The scan was stopped because <span class="keyword const">GLOB_ERR</span> was set, or
  the <var class="keyword varname">errfunc</var> function returned nonzero.
</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_NOMATCH</span></dt>

<dd class="dd">The value of <var class="keyword varname">pattern</var> doesn't match any existing pathname, and
  <span class="keyword const">GLOB_NOCHECK</span> wasn't set in <var class="keyword varname">flags</var>.
</dd>




<dt class="dt dlterm"><span class="keyword const">GLOB_NOSPACE</span></dt>

<dd class="dd">Unable to allocate memory to store the matched paths.</dd>



</dl>


</div>



<div class="section"><h2 class="title sectiontitle">Examples:</h2>


<p class="p">
This simple example attempts to find all of the <span class="ph filepath">.c</span>
files in the current directory and print them in the order the filesystem
found them.
</p>


<pre class="pre codeblock">
#include &lt;unistd.h&gt;
#include &lt;stdio.h&gt;
#include &lt;glob.h&gt;

int main( void )
{
    glob_t paths;
    int retval;
    
    paths.gl_pathc = 0;
    paths.gl_pathv = NULL;
    paths.gl_offs = 0;

    retval = glob( "*.c", GLOB_NOCHECK | GLOB_NOSORT,
                   NULL, &amp;paths );
    if( retval == 0 ) {
        int idx;
        
        for( idx = 0; idx &lt; paths.gl_pathc; idx++ ) {
            printf( "[%d]: %s\n", idx, 
                    paths.gl_pathv[idx] );
        }
        
        globfree( &amp;paths );
    } else {
        puts( "glob() failed" );
    }
    
    return 0;
}
</pre>


</div>



<div class="section"><h2 class="title sectiontitle">Classification:</h2>

<p class="p"><a class="xref" href="../summary.html#summary__CLASSIFICATION">POSIX 1003.1</a></p>



<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
<thead class="thead" align="left">
<tr><th class="entry" valign="top" id="d1926933e700">Safety:</th>
<th class="entry" valign="top" id="d1926933e702">Â </th>
</tr>

</thead>

<tbody class="tbody">
<tr><td class="entry" valign="top" headers="d1926933e700 d1926933e702 ">Cancellation point</td>
<td class="entry" valign="top" headers="d1926933e700 d1926933e702 ">Yes</td>
</tr>

<tr><td class="entry" valign="top" headers="d1926933e700 d1926933e702 ">Interrupt handler</td>
<td class="entry" valign="top" headers="d1926933e700 d1926933e702 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d1926933e700 d1926933e702 ">Signal handler</td>
<td class="entry" valign="top" headers="d1926933e700 d1926933e702 ">Yes</td>
</tr>

<tr><td class="entry" valign="top" headers="d1926933e700 d1926933e702 ">Thread</td>
<td class="entry" valign="top" headers="d1926933e700 d1926933e702 ">Yes</td>
</tr>

</tbody>

</table>
</div>

</div>



<div class="section"><h2 class="title sectiontitle">Caveats:</h2>


<p class="p">
Don't change the values in <var class="keyword varname">pglob</var> between calling
<span class="keyword apiname">glob()</span> and <a class="xref" href="globfree.html" title="Free storage allocated by a call to glob()"><span class="keyword apiname">globfree()</span></a>.
</p>

</div>


</div>





<div class="related-links"><div class="relinfo relref"><strong>Related reference</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/g/globfree.html" title="Free storage allocated by a call to glob()">globfree()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/w/wordexp.html" title="Perform word expansions">wordexp()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/w/wordfree.html" title="Free a word expansion buffer">wordfree()</a></div>
</div>
</div><div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-g.html" title="G"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">G</span></a></span>  </div>
</body>
</html>