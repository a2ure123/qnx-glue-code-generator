
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />        
      <meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="reference" /><meta name="DC.Title" content="mbrtoc16(), mbrtoc32()" /><meta name="abstract" content="Convert a multibyte character (UTF-8) into a wide character (UTF-16 or UTF-32)" /><meta name="description" content="Convert a multibyte character (UTF-8) into a wide character (UTF-16 or UTF-32)" /><meta name="indexterms" content="mbrtoc16(), mbrtoc32()" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-m.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/character_sets.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/e/errno.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/m/mblen.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/m/mbrlen.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/m/mbrtowc.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/m/mbstowcs.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/m/mbsinit.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/m/mbsrtowcs.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/m/mbtowc.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="mbrtoc16" /><meta name="DC.Language" content="en-us" /><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>mbrtoc16(), mbrtoc32()</title><link rel="canonical" type="html" href="https://www.qnx.com/developers/docs/7.1/#com.qnx.doc.neutrino.lib_ref/" /><!--  Generated with Oxygen version 18.1, build number 2017020917.  --><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/skins/skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../../../index.html";
            
            --></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><script type="text/javascript"> var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-27400275-1']); _gaq.push(['_setDomainName', 'www.qnx.com']);_gaq.push(['_setAllowLinker', true]);_gaq.push(['_trackPageview']);(function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="mbrtoc16">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-m.html" title="M">M</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-m.html" title="M"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">M</span></a></span>  </span></td></tr></tbody></table>


<h1 class="title topictitle1"><span class="keyword apiname">mbrtoc16()</span>, <span class="keyword apiname">mbrtoc32()</span></h1>
<table width="100%"><tbody><tr><td align="left"><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">QNX SDP</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">7.1</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">C Library Reference</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">API</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">Developer</button></td><td align="right"><span style="margin:0px 5px; font-size:0.9em;">Updated: October 28, 2024</span></td></tr></tbody></table>


<div class="body refbody"><p class="shortdesc"><em class="ph i">Convert a multibyte character (UTF-8) into a wide character (UTF-16 or
    UTF-32)</em></p>


<div class="section">
<p class="p">




</p>

</div>


<div class="section refsyn"><h2 class="title sectiontitle">Synopsis:</h2>

<pre class="pre codeblock">
#include &lt;uchar.h&gt;

size_t mbrtoc16( char16_t *<var class="keyword varname">pwc</var>,
                 const char *<var class="keyword varname">s</var>,
 	         size_t <var class="keyword varname">n</var>,
                 mbstate_t *<var class="keyword varname">ps</var>);

size_t mbrtoc32( char32_t *<var class="keyword varname">pwc</var>,
                 const char *<var class="keyword varname">s</var>,
 	         size_t <var class="keyword varname">n</var>,
                 mbstate_t *<var class="keyword varname">ps</var>);
</pre>

</div>



<div class="section"><h2 class="title sectiontitle">Arguments:</h2>


<dl class="dl">

<dt class="dt dlterm"><var class="keyword varname">pwc</var></dt>

<dd class="dd">A pointer to a location where the function can store the wide character.</dd>




<dt class="dt dlterm"><var class="keyword varname">s</var></dt>

<dd class="dd"><span class="keyword const">NULL</span>, or an array of characters that make up a multibyte character.</dd>




  <dt class="dt dlterm"><var class="keyword varname">n</var></dt>

  <dd class="dd">The maximum number of bytes to convert from the multibyte character.</dd>




<dt class="dt dlterm"><var class="keyword varname">ps</var></dt>

<dd class="dd">A pointer to a conversion object that's used to store state information so that the function can be restarted.
  You can call
  <a class="xref" href="mbsinit.html" title="Determine the status of the conversion object used for restartable mb*() functions"><span class="keyword apiname">mbsinit()</span></a>
  to determine the status of this variable.
</dd>



</dl>


<div class="note note"><span class="notetitle">Note:</span> If the <var class="keyword varname">s</var> argument is <span class="keyword const">NULL</span>, the values of
      <var class="keyword varname">pwc</var> and <var class="keyword varname">n</var> will be ignored and the call is equivalent
      to <samp class="ph codeph">mbrtoc16 (NULL, "", 1, ps)</samp> or <samp class="ph codeph">mbrtoc32 (NULL, "", 1, ps)</samp>.
      </div>


</div>



<div class="section"><h2 class="title sectiontitle">Library:</h2>


<p class="p"><span class="ph filepath">libc</span></p>


<p class="p">
Use the <span class="keyword option">-l c</span> option to
<a class="xref" href="../../../com.qnx.doc.neutrino.utilities/topic/q/qcc.html"><span class="keyword cmdname">qcc</span></a>
to link against this library.
This library is usually included automatically.
</p>

</div>



<div class="section"><h2 class="title sectiontitle">Description:</h2>


<p class="p">
The <span class="keyword apiname">mbrtoc16()</span> and <span class="keyword apiname">mbrtoc32()</span> functions
determine the number of bytes in the multibyte string <var class="keyword varname">s</var> that complete the next
  multibyte character, if possible.
If <var class="keyword varname">pwc</var> isn't <span class="keyword const">NULL</span>, the functions actually do the conversion (from UTF-8 to UTF-16 for type <span class="keyword dtype">char16_t</span>
  or UTF-32 for type <span class="keyword dtype">char32_t</span>).
</p>

</div>



<div class="section"><h2 class="title sectiontitle">Returns:</h2>


<p class="p">
The number of bytes needed to complete the next multibyte character, or:
</p>


<ul class="ul">
<li class="li"><samp class="ph codeph">(size_t)-3</samp> if no additional bytes are needed to complete the next multibyte character,
  in which case the resulting conversion state indicates that no additional bytes have been converted,
  and the next multibyte character has been produced
</li>


<li class="li"><samp class="ph codeph">(size_t)-2</samp> if, after converting all <var class="keyword varname">n</var> characters, the resulting
  conversion state indicates an incomplete multibyte character
</li>


<li class="li"><samp class="ph codeph">(size_t)-1</samp> if the function detects an encoding error before completing the next
  multibyte character, in which case the function stores the value <span class="keyword const">EILSEQ</span> in
  <a class="xref" href="../e/errno.html" title="Thread-local error variable"><var class="keyword varname">errno</var></a>
  and leaves the resulting conversion state undefined
</li>


<li class="li">0, if the next completed character is a null character, in which case the resulting conversion state
  is the initial conversion state
</li>


</ul>

</div>



<div class="section"><h2 class="title sectiontitle">Classification:</h2>

<p class="p"><a class="xref" href="../summary.html#summary__CLASSIFICATION">C11</a></p>




<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
<thead class="thead" align="left">
<tr><th class="entry" valign="top" id="d2177516e280">Safety:</th>
<th class="entry" valign="top" id="d2177516e282">Â </th>
</tr>

</thead>

<tbody class="tbody">
<tr><td class="entry" valign="top" headers="d2177516e280 d2177516e282 ">Cancellation point</td>
<td class="entry" valign="top" headers="d2177516e280 d2177516e282 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d2177516e280 d2177516e282 ">Interrupt handler</td>
<td class="entry" valign="top" headers="d2177516e280 d2177516e282 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d2177516e280 d2177516e282 ">Signal handler</td>
<td class="entry" valign="top" headers="d2177516e280 d2177516e282 ">Yes</td>
</tr>

<tr><td class="entry" valign="top" headers="d2177516e280 d2177516e282 ">Thread</td>
<td class="entry" valign="top" headers="d2177516e280 d2177516e282 ">Yes</td>
</tr>

</tbody>

</table>
</div>

</div>


</div>



<div class="related-links"><div class="relinfo relconcepts"><strong>Related concepts</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/character_sets.html" title="Character Sets">Character Sets</a></div>
</div>
<div class="relinfo relref"><strong>Related reference</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/e/errno.html" title="Thread-local error variable">errno</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/m/mblen.html" title="Count the bytes in a multibyte character">mblen()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/m/mbrlen.html" title="Count the bytes in a multibyte character (restartable)">mbrlen()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/m/mbrtowc.html" title="Convert a multibyte character into a wide character (restartable)">mbrtowc()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/m/mbstowcs.html" title="Convert a multibyte-character string into a wide-character string">mbstowcs()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/m/mbsinit.html" title="Determine the status of the conversion object used for restartable mb*() functions">mbsinit()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/m/mbsrtowcs.html" title="Convert a multibyte-character string into a wide-character string (restartable)">mbsrtowcs()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/m/mbtowc.html" title="Convert a multibyte character into a wide character">mbtowc()</a></div>
</div>
</div><div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-m.html" title="M"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">M</span></a></span>  </div>
</body>
</html>