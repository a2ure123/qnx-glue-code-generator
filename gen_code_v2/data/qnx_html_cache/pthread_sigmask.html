
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />        
      <meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="reference" /><meta name="DC.Title" content="pthread_sigmask()" /><meta name="abstract" content="Modify or examine a thread's signal-blocked mask" /><meta name="description" content="Modify or examine a thread's signal-blocked mask" /><meta name="indexterms" content="pthread_sigmask()" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/k/kill.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/r/raise.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigaction.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigaddset.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigdelset.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigemptyset.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigfillset.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigismember.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/s/signal.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/s/signalprocmask.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigpending.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigprocmask.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="pthread_sigmask" /><meta name="DC.Language" content="en-us" /><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>pthread_sigmask()</title><link rel="canonical" type="html" href="https://www.qnx.com/developers/docs/7.1/#com.qnx.doc.neutrino.lib_ref/" /><!--  Generated with Oxygen version 18.1, build number 2017020917.  --><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/skins/skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../../../index.html";
            
            --></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><script type="text/javascript"> var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-27400275-1']); _gaq.push(['_setDomainName', 'www.qnx.com']);_gaq.push(['_setAllowLinker', true]);_gaq.push(['_trackPageview']);(function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="pthread_sigmask">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" title="P">P</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" title="P"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">P</span></a></span>  </span></td></tr></tbody></table>


<h1 class="title topictitle1"><span class="keyword apiname">pthread_sigmask()</span></h1>
<table width="100%"><tbody><tr><td align="left"><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">QNX SDP</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">7.1</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">C Library Reference</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">API</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">Developer</button></td><td align="right"><span style="margin:0px 5px; font-size:0.9em;">Updated: October 28, 2024</span></td></tr></tbody></table>


<div class="body refbody"><p class="shortdesc"><em class="ph i">Modify or examine a thread's signal-blocked mask</em></p>


<div class="section refsyn"><h2 class="title sectiontitle">Synopsis:</h2>

<pre class="pre codeblock">
#include &lt;signal.h&gt;

int pthread_sigmask( int <var class="keyword varname">how</var>,
                     const sigset_t* <var class="keyword varname">set</var>,
                     sigset_t* <var class="keyword varname">oset</var> );
</pre>

</div>



<div class="section"><h2 class="title sectiontitle">Arguments:</h2>


<dl class="dl">

<dt class="dt dlterm"><var class="keyword varname">how</var></dt>

<dd class="dd">How you want to change the signal mask; one of:

  <ul class="ul">
  <li class="li"><span class="keyword const">SIG_BLOCK</span> â make the resulting signal mask the
    union of the current signal mask and the signal set <var class="keyword varname">set</var>.
    
  </li>


  <li class="li"><span class="keyword const">SIG_UNBLOCK</span> â make the resulting signal mask the
    intersection of the current signal mask and the complement of the signal
    set <var class="keyword varname">set</var>.
    
  </li>


  <li class="li"><span class="keyword const">SIG_SETMASK</span> â make the resulting signal mask the
    signal set <var class="keyword varname">set</var>.
    
  </li>


  </ul>


  <p class="p">
  This argument is ignored if <var class="keyword varname">set</var> is <span class="keyword const">NULL</span>.
  </p>

</dd>




<dt class="dt dlterm"><var class="keyword varname">set</var></dt>

<dd class="dd"><span class="keyword const">NULL</span>, or a pointer to a <span class="keyword dtype">sigset_t</span> object that specifies the 
  signals that you want to affect in the mask.
</dd>




<dt class="dt dlterm"><var class="keyword varname">oset</var></dt>

<dd class="dd"><span class="keyword const">NULL</span>, or a pointer to a <span class="keyword dtype">sigset_t</span> object
  where the function can store the thread's old signal mask.
</dd>



</dl>


<p class="p">
You can use various combinations of <var class="keyword varname">set</var> and <var class="keyword varname">oset</var>
to query or change (or both) the signal-blocked mask for a signal.
</p>


</div>



<div class="section"><h2 class="title sectiontitle">Library:</h2>


<p class="p"><span class="ph filepath">libc</span></p>


<p class="p">
Use the <span class="keyword option">-l c</span> option to
<a class="xref" href="../../../com.qnx.doc.neutrino.utilities/topic/q/qcc.html"><span class="keyword cmdname">qcc</span></a>
to link against this library.
This library is usually included automatically.
</p>

</div>



<div class="section"><h2 class="title sectiontitle">Description:</h2>


<p class="p">



The <span class="keyword apiname">pthread_sigmask()</span> function is used to examine or
change (or both) the calling thread's signal mask. If <var class="keyword varname">set</var> is
non-<span class="keyword const">NULL</span>, the thread's signal mask is set to
<var class="keyword varname">set</var>. If <var class="keyword varname">oset</var> is non-<span class="keyword const">NULL</span>, the
thread's old signal mask is returned in <var class="keyword varname">oset</var>.
</p>


<p class="p">




You can't block the <span class="keyword const">SIGKILL</span> and <span class="keyword const">SIGSTOP</span> signals.
</p>

  
 <p class="p">
 The signals <span class="keyword const">SIGSEGV</span>, <span class="keyword const">SIGBUS</span>, <span class="keyword const">SIGILL</span>, and <span class="keyword const">SIGFPE</span> are used by the kernel to
 indicate to a process that a fault has occurred, and by default will terminate the process. Any such signal delivered by the kernel is a
 synchronous signal. This means that blocking it does not prevent process termination when the fault is delivered,
 and any installed signal handlers are skipped. Conversely, if any of these signals is delivered from another user-mode process,
 via <span class="keyword apiname">kill()</span>, <span class="keyword apiname">raise()</span>, <span class="keyword apiname">pthread_kill()</span>, <span class="keyword apiname">sigqueue()</span> or
 <span class="keyword apiname">SignalKill()</span>, it is an asynchronous signal and is subjected to blocking.
 </p>

</div>



<div class="section"><h2 class="title sectiontitle">Returns:</h2>


<dl class="dl" compact="compact">

<dt class="dt dlterm"><span class="keyword const">EOK</span></dt>

<dd class="dd">Success.</dd>




<dt class="dt dlterm"><span class="keyword const">EINVAL</span></dt>

<dd class="dd">Invalid <var class="keyword varname">how</var> parameter.</dd>



</dl>


</div>



<div class="section"><h2 class="title sectiontitle">Classification:</h2>

<p class="p"><a class="xref" href="../summary.html#summary__CLASSIFICATION">POSIX 1003.1</a></p>



<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
<thead class="thead" align="left">
<tr><th class="entry" valign="top" id="d2450998e322">Safety:</th>
<th class="entry" valign="top" id="d2450998e324">Â </th>
</tr>

</thead>

<tbody class="tbody">
<tr><td class="entry" valign="top" headers="d2450998e322 d2450998e324 ">Cancellation point</td>
<td class="entry" valign="top" headers="d2450998e322 d2450998e324 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d2450998e322 d2450998e324 ">Interrupt handler</td>
<td class="entry" valign="top" headers="d2450998e322 d2450998e324 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d2450998e322 d2450998e324 ">Signal handler</td>
<td class="entry" valign="top" headers="d2450998e322 d2450998e324 ">Yes</td>
</tr>

<tr><td class="entry" valign="top" headers="d2450998e322 d2450998e324 ">Thread</td>
<td class="entry" valign="top" headers="d2450998e322 d2450998e324 ">Yes</td>
</tr>

</tbody>

</table>
</div>

</div>


</div>


<div class="related-links"><div class="relinfo relref"><strong>Related reference</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/k/kill.html" title="Send a signal to a process or a group of processes">kill()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/r/raise.html" title="Generate a signal">raise()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigaction.html" title="Examine or specify the action associated with a signal">sigaction()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigaddset.html" title="Add a signal to a set">sigaddset()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigdelset.html" title="Delete a signal from a set">sigdelset()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigemptyset.html" title="Initialize a set to contain no signals">sigemptyset()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigfillset.html" title="Initialize a set to contain all signals">sigfillset()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigismember.html" title="See if a given signal is in a given set">sigismember()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/s/signal.html" title="Set handling for exceptional conditions">signal()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/s/signalprocmask.html" title="Modify or examine a thread's signal-blocked mask">SignalProcmask(), SignalProcmask_r()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigpending.html" title="Examine the set of pending, masked signals for a process">sigpending()</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/s/sigprocmask.html" title="Modify or examine a thread's signal-blocked mask">sigprocmask()</a></div>
</div>
</div><div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" title="P"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">P</span></a></span>  </div>
</body>
</html>