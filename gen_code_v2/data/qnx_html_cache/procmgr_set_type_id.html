
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />        
      <meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="reference" /><meta name="DC.Title" content="procmgr_set_type_id()" /><meta name="abstract" content="Allows a function to change its own type identifier" /><meta name="description" content="Allows a function to change its own type identifier" /><meta name="indexterms" content="procmgr_set_type_id()" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" /><meta name="DC.Relation" scheme="URI" content="../../../com.qnx.doc.neutrino.lib_ref/topic/p/procmgr_ability.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="procmgr_set_type_id" /><meta name="DC.Language" content="en-us" /><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>procmgr_set_type_id()</title><link rel="canonical" type="html" href="https://www.qnx.com/developers/docs/7.1/#com.qnx.doc.neutrino.lib_ref/" /><!--  Generated with Oxygen version 18.1, build number 2017020917.  --><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/skins/skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../../../index.html";
            
            --></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><script type="text/javascript"> var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-27400275-1']); _gaq.push(['_setDomainName', 'www.qnx.com']);_gaq.push(['_setAllowLinker', true]);_gaq.push(['_trackPageview']);(function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="procmgr_set_type_id">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" title="P">P</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" title="P"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">P</span></a></span>  </span></td></tr></tbody></table>


<h1 class="title topictitle1"><span class="keyword apiname">procmgr_set_type_id()</span></h1>
<table width="100%"><tbody><tr><td align="left"><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">QNX SDP</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">7.1</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">C Library Reference</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">API</button><button style="margin:3px 5px; background-color:default; border:default; pointer-events: none; font-size:0.9em;">Developer</button></td><td align="right"><span style="margin:0px 5px; font-size:0.9em;">Updated: October 28, 2024</span></td></tr></tbody></table>


<div class="body refbody"><p class="shortdesc"><em class="ph i">Allows a function to change its own type identifier</em></p>


<div class="section refsyn"><h2 class="title sectiontitle">Synopsis:</h2>

<pre class="pre codeblock">
#include &lt;sys/procmgr.h&gt;

int procmgr_set_type_id(uint32_t typeid);
</pre>

</div>



<div class="section"><h2 class="title sectiontitle">Arguments:</h2>




<dl class="dl">

<dt class="dt dlterm"><var class="keyword varname">typeid</var></dt>

<dd class="dd">The type identifier to switch the process to. </dd>



</dl>


</div>



<div class="section"><h2 class="title sectiontitle">Library:</h2>


<p class="p"><span class="ph filepath">libc</span></p>


<p class="p">
Use the <span class="keyword option">-l c</span> option to
<a class="xref" href="../../../com.qnx.doc.neutrino.utilities/topic/q/qcc.html"><span class="keyword cmdname">qcc</span></a>
to link against this library.
This library is usually included automatically.
</p>

</div>



<div class="section"><h2 class="title sectiontitle">Description:</h2>


    <p class="p">This function is deprecated.
        Instead, use <a class="xref" href="../../../com.qnx.doc.security.system/topic/secpol_transition_type.html">
        <span class="keyword apiname">secpol_transition_type()</span></a> (see <span class="q">&#147;The libsecpol API&#148;</span> in the <cite class="cite">System Security
        Guide</cite>).</p>

      <p class="p">The privileges a server
        process requires are frequently different immediately upon start up and following its
        initialization, and type changing can provide security benefits. </p>

      <p class="p">The <span class="keyword apiname">procmgr_set_type_id()</span> function allows a process to change its own
        type identifier. When successful, a call to this function yields a change to the security
        context of the process, including its <span class="keyword cmdname">procmgr</span> abilities and the paths the
        process may attach channels to.</p>
<div class="note note"><span class="notetitle">Note:</span> The <span class="keyword cmdname">procmgr</span> abilities are entirely determined by the security policy and
        are unaffected by the abilities the process had prior to the call (even if you set the type
        identifier to the one that the process already had).</div>

      <p class="p">A process is only able to successfully make the call if a security policy has been loaded
        and if the process currently possesses the procmgr ability <span class="keyword const">PROCMGR_AID_SETTYPEID</span>
        with a range that covers the new type identifer. Even a call with a current type identifier
        (before the change occurs) requires that the process has the necessary ability.</p>




</div>



<div class="section"><h2 class="title sectiontitle">Returns:</h2>


<dl class="dl" compact="compact">

<dt class="dt dlterm">0</dt>

<dd class="dd">Success.</dd>




<dt class="dt dlterm">-1</dt>

<dd class="dd">Failure (<a class="xref" href="../e/errno.html" title="Thread-local error variable"><var class="keyword varname">errno</var></a> is set).</dd>



</dl>

</div>


<div class="section"><h2 class="title sectiontitle">Errors:</h2>


<dl class="dl">

<dt class="dt dlterm"><span class="keyword const">EINTR</span></dt>

<dd class="dd">The call was interrupted by a signal.</dd>



  
    <dt class="dt dlterm"><span class="keyword const">ENOTSUP</span></dt>

    <dd class="dd">No security policy has been loaded. (You can't use this function unless a security policy is
            loaded.)</dd>

  
  
    <dt class="dt dlterm"><span class="keyword const">EPERM</span></dt>

    <dd class="dd">The process lacks the <span class="keyword const">PROCMGR_AID_SETTYPEID</span> ability or does not have a subrange that includes <var class="keyword varname">typeid</var>.</dd>

  
  
    <dt class="dt dlterm"><span class="keyword const">ESECTYPEINVAL</span></dt>

    <dd class="dd">The type identifier either does not exist or has no abilities associated with it. A type
            must be the source type in at least one <span class="keyword option">allow</span>,
              <span class="keyword option">allow_attach</span> or <span class="keyword option">allow_link</span> rule for a process to
            have its type identifier set to it. (These rules are defined in the security
            policy).</dd>

  
</dl>


</div>



<div class="section"><h2 class="title sectiontitle">Classification:</h2>

<p class="p"><a class="xref" href="../summary.html#summary__CLASSIFICATION">QNX Neutrino</a></p>



<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
<thead class="thead" align="left">
<tr><th class="entry" valign="top" id="d2377864e227">Safety:</th>
<th class="entry" valign="top" id="d2377864e229">Â </th>
</tr>

</thead>

<tbody class="tbody">
<tr><td class="entry" valign="top" headers="d2377864e227 d2377864e229 ">Cancellation point</td>
<td class="entry" valign="top" headers="d2377864e227 d2377864e229 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d2377864e227 d2377864e229 ">Interrupt handler</td>
<td class="entry" valign="top" headers="d2377864e227 d2377864e229 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d2377864e227 d2377864e229 ">Signal handler</td>
<td class="entry" valign="top" headers="d2377864e227 d2377864e229 ">No</td>
</tr>

<tr><td class="entry" valign="top" headers="d2377864e227 d2377864e229 ">Thread</td>
<td class="entry" valign="top" headers="d2377864e227 d2377864e229 ">Yes</td>
</tr>

</tbody>

</table>
</div>

</div>


</div>


<div class="related-links"><div class="relinfo relref"><strong>Related reference</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../../../com.qnx.doc.neutrino.lib_ref/topic/p/procmgr_ability.html" title="Control a process's ability to perform certain operations">procmgr_ability()</a></div>
</div>
</div><div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../../../com.qnx.doc.neutrino.lib_ref/topic/lib-p.html" title="P"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">P</span></a></span>  </div>
</body>
</html>